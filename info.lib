# $HOME/$HOME/$twm_dir/info.lib
# Copyright (c) 2019-2024 Ueliton Alves Dos Santos
# Licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License

colors() { BLACK_BLACK='\033[00;30m';BLACK_CYAN='\033[01;36m\033[01;07m';BLACK_GREEN='\033[00;32m\033[01;07m';BLACK_GRAY='\033[01;30m\033[01;07m';BLACK_PINK='\033[01;35m\033[01;07m';BLACK_RED='\033[01;31m\033[01;07m';BLACK_YELLOW='\033[00;33m\033[01;07m';CYAN_BLACK='\033[36m';CYAN_CYAN='\033[01;36m\033[08;07m';COLOR_RESET='\033[00m';GOLD_BLACK='\033[33m';GREEN_BLACK='\033[32m';PURPLEi_BLACK='\033[03;34m\033[02;03m';PURPLEis_BLACK='\033[03;34m\033[02;04m';WHITE_BLACK='\033[37m';WHITEb_BLACK='\033[01;38m\033[05;01m';};

G_T() { if [ -z "$LANGUAGE" ];then LANGUAGE=2;fi;translation=$(echo "$content" | awk -v lang="$LANGUAGE" -F'|' 'NR==1 {for (i=1; i<=NF; i++) {if ($i ~ /en/) { idx_en = i; } else if ($i ~ /de/) { idx_de = i; } else if ($i ~ /es/) { idx_es = i; } else if ($i ~ /fr/) { idx_fr = i; } else if ($i ~ /hi/) { idx_hi = i; } else if ($i ~ /id/) { idx_id = i; } else if ($i ~ /it/) { idx_it = i; } else if ($i ~ /pl/) { idx_pl = i; } else if ($i ~ /pt/) { idx_pt = i; } else if ($i ~ /ro/) { idx_ro = i; } else if ($i ~ /ru/) { idx_ru = i; } else if ($i ~ /sr/) { idx_sr = i; } else if ($i ~ /zh/) { idx_zh = i; }}} NR > 1 {if ($idx_en == "'"$1"'") { if (lang == 1) print (idx_de ? $idx_de : $1); else if (lang == 2) print (idx_en ? $idx_en : $1); else if (lang == 3) print (idx_es ? $idx_es : $1); else if (lang == 4) print (idx_fr ? $idx_fr : $1); else if (lang == 5) print (idx_hi ? $idx_hi : $1); else if (lang == 6) print (idx_id ? $idx_id : $1); else if (lang == 7) print (idx_it ? $idx_it : $1); else if (lang == 8) print (idx_pl ? $idx_pl : $1); else if (lang == 9) print (idx_pt ? $idx_pt : $1); else if (lang == 10) print (idx_ro ? $idx_ro : $1); else if (lang == 11) print (idx_ru ? $idx_ru : $1); else if (lang == 12) print (idx_sr ? $idx_sr : $1); else if (lang == 13) print (idx_zh ? $idx_zh : $1);}}');echo "${translation:-$1}" | awk 'NF';};

script_slogan() { colors="10 9 8 7 6 5 4 3 2 1";t="339";w="59";m="89";author="$(G_T "author"):\nueliton@disroot.org 2019 — 2024";collaborator="$(G_T "collaborator"):\n	@_hviegas";for i in $colors; do clear;t=$((t - 27));w=$((w + 1));m=$((m - 2));printf "\033[1;38;5;${t}m  ╔══╗╔╗╔══╗╔══╗╔══╗╔══╗\n  ╚╗╔╝╠╣╚╗╔╝║╔╗║║╔╗║║══╣\n  ${BLACK_BLACK}═\033[1;38;5;${t}m║║${BLACK_BLACK}═\033[1;38;5;${t}m║║${BLACK_BLACK}═\033[1;38;5;${t}m║║${BLACK_BLACK}═\033[1;38;5;${t}m║╔╗║║║║║╠══║\n  ${BLACK_BLACK}═\033[1;38;5;${t}m╚╝${BLACK_BLACK}═\033[1;38;5;${t}m╚╝${BLACK_BLACK}═\033[1;38;5;${t}m╚╝${BLACK_BLACK}═\033[1;38;5;${t}m╚╝╚╝╚╝╚╝╚══╝\033[1;38;5;${w}m\n       ╔╦═╦╗╔══╗╔══╗\n       ║║║║║║╔╗║║╚╝╣\n       ║║║║║║╔╗║║║╗║\n       ╚═╩═╝╚╝╚╝╚╝╚╝\033[1;38;5;${m}m\n  ╔═╦═╗╔══╗╔══╗╔══╗╔══╗\n  ║║║║║║╔╗║║╔═╝║╚╝╣║╔╗║\n  ║║║║║║╔╗║║╚═╗║║╗║║╚╝║\n  ╚╩═╩╝╚╝╚╝╚══╝╚╝╚╝╚══╝\n  ${COLOR_RESET}\n\n\n\033[1;38;5;${i}m${author}\n\033[02m${collaborator}\n${COLOR_RESET}\n";sleep "0.2";done;};

time_exit() { ( local FPID=$(echo "$!"|grep -o -E '([0-9]{2,6})');for TE in $(seq "$@" -1 0); do local RPID=$(ps ax -o pid=|grep -o "$FPID"); if [ -z "$RPID" ]; then local TE="0";break &>/dev/null;elif [ "$TE" -lt 1 ]; then kill -s PIPE $FPID &>/dev/null;kill -15 $FPID &>/dev/null;printf "${WHITEb_BLACK}$(G_T "Command execution was interrupted")!${COLOR_RESET}\n";local TE="0";break &>/dev/null;fi;sleep 1s;done; );};

hpmp() { if echo "$@" | grep -q '\-fix'; then (  w3m -cookie -o http_proxy="$PROXY" -o accept_encoding=UTF-8 -debug -dump_source "$URL/train" -o user_agent="$(shuf -n1 userAgent.txt)" >$TMP/TRAIN; )  </dev/null &>/dev/null & time_exit "20";FIXHP=$(grep -o -E '\(([0-9]+)\)' $TMP/TRAIN | sed 's/[()]//g');FIXMP=$(grep -o -E ': [0-9]+' $TMP/TRAIN | sed -n '5s/: //p');fi;NOWHP=$(grep -o -E "<img src[=]'/images/icon/health.png' alt[=]'hp'/> <span class[=]'(dred|white)'>[ ]?[0-9]{1,7}[ ]?</span> \| <img src[=]'/images/icon/mana.png' alt[=]'mp'/>" $TMP/SRC | tr -c -d "[[:digit:]]");NOWMP=$(grep -o -E "</span> \| <img src='/images/icon/mana.png' alt='mp'/>[ ]?[0-9]{1,7}[ ]?</span><div class='clr'></div></div>" $TMP/SRC | tr -c -d "[[:digit:]]");HPPER=$(awk -v nowhp="$NOWHP" -v fixhp="$FIXHP" 'BEGIN { printf "%.3f", nowhp / fixhp * 100 }' | awk '{printf "%.2f\n", $1}');MPPER=$(awk -v nowmp="$NOWMP" -v fixmp="$FIXMP" 'BEGIN { printf "%.3f", nowmp / fixmp * 100 }' | awk '{printf "%.2f\n", $1}');};

messages_info() { >> $TMP/SRC; echo " ⚔️ - $(G_T "Titans War Macro") - ⚔️ " > $TMP/msg_file;printf " -------- $(G_T "MAIL") --------\n" >> $TMP/msg_file;( w3m -cookie -o http_proxy=$PROXY -o accept_encoding=UTF-8 -dump "${URL}/mail" -o user_agent="$(shuf -n1 $TMP/userAgent.txt)"|tee $TMP/info_file|sed -n '/[|]\ mp/,/\[arrow\]/p'|sed '1,1d;$d;6q' >> $TMP/msg_file; ) </dev/null &>/dev/null & time_exit "17";printf " -------- $(G_T "CHAT TITANS") --------\n" >> $TMP/msg_file;( w3m -cookie -o http_proxy=$PROXY -o accept_encoding=UTF-8 -dump "${URL}/chat/titans/changeRoom" -o user_agent="$(shuf -n1 $TMP/userAgent.txt)"|sed -n '/\(\»\)/,/\[chat\]/p'|sed '$d;4q' >> $TMP/msg_file; ) </dev/null &>/dev/null & time_exit "17";printf " -------- $(G_T "CHAT CLAN") --------\n" >> $TMP/msg_file;( w3m -cookie -o http_proxy=$PROXY -o accept_encoding=UTF-8 -dump "${URL}/chat/clan/changeRoom" -o user_agent="$(shuf -n1 $TMP/userAgent.txt)"|sed -ne '/\[[^a-z]\]/,/\[chat\]/p'|sed '$d;4q' >> $TMP/msg_file; ) </dev/null &>/dev/null & time_exit "17";sed -i 's/\[0\]/🔴/g;s/\[0-off\]/⭕/g;s/\[1\]/🔵/g;s/\[1-off\]/🔘/g' msg_file >> $TMP/msg_file;local TRAIN="$HOME/$twm_dir/.${UR}/TRAIN";if [ ! -e "$HOME/$twm_dir/.${UR}/TRAIN" ] || find "$TRAIN" -mmin +30 >/dev/null 2>&1; then hpmp -fix;fi;if [ -e "$TMP/SRC" ]; then printf %b "\033[02mHP ❤️ $NOWHP - ${HPPER}% | MP Ⓜ️ $NOWMP - ${MPPER}%${COLOR_RESET}\n" >> $TMP/msg_file;fi;printf "${GREEN_BLACK}${ACC}$(grep -o -E '(lvl [0-9]{1,2} \| g [0-9]{1,3}[^0-9]{0,1}[0-9]{0,3}[A-Za-z]{0,1} \| s [0-9]{1,3}[^0-9]{0,1}[0-9]{0,3}[A-Za-z]{0,1})' $TMP/info_file|sed 's/lvl/\ lvl/g;s/g/\ g/g;s/s/\ s/g')${COLOR_RESET}\n" >> $TMP/msg_file;}
